(this["webpackJsonpboard-experiment"]=this["webpackJsonpboard-experiment"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(5),o=n.n(a),r=(n(16),n(17),n(18),n(19),n(2)),s=(n(26),n(1)),d=function(e){var t=Object(r.b)(),n=Object(r.c)((function(t){return t.projectiles[e.id].x})),i=Object(r.c)((function(t){return t.projectiles[e.id].y})),a=Object(r.c)((function(t){return t.projectiles[e.id].dead})),o=Object(c.useRef)();return Object(c.useEffect)((function(){o.current.className=!0===a?"projectile projectile--dead":"projectile",-10!=i&&setTimeout((function(){t({type:"projectile/elevate",payload:{position:(parseInt(i)-5).toString(),id:e.id}})}),50)})),Object(s.jsx)("div",{className:"projectile",style:{top:i+"vh",left:n+"vh"},ref:o})},u=function(e){var t=Object(r.b)(),n=Object(c.useRef)();Object(c.useEffect)((function(){n.current.focus()}));var i=Object(r.c)((function(e){return e.boratPosition}));Object(r.c)((function(e){return e.projectiles}));return Object(s.jsx)("div",{tabIndex:"0",className:"fancy-square",style:{top:i.y+"vh",left:i.x+"vh"},onKeyDown:function(e){var n;e.preventDefault(),"ArrowDown"===(n=e.key)?i.y<=89&&t({type:"borat/putYPosition",payload:parseInt(i.y)+1}):"ArrowUp"===n?i.y>=1&&t({type:"borat/putYPosition",payload:parseInt(i.y)-1}):"ArrowLeft"===n?i.x>=1&&t({type:"borat/putXPosition",payload:parseInt(i.x)-1}):"ArrowRight"===n?i.x<=89&&t({type:"borat/putXPosition",payload:parseInt(i.x)+1}):" "===n&&t({type:"projectile/spawn",payload:parseInt(i.x)})},ref:n})},l=n(10),j=(n(28),function(e){var t=Object(r.b)(),n=Object(r.c)((function(t){return t.enemies[e.id].x})),i=Object(r.c)((function(t){return t.enemies[e.id].y})),a=Object(r.c)((function(e){return e.projectiles})),o=Object(c.useState)(!1),d=Object(l.a)(o,2),u=(d[0],d[1],Object(r.c)((function(t){return t.enemies[e.id].dead}))),j=Object(c.useRef)();return Object(c.useEffect)((function(){!0===u?(j.current.className="gwbush gwbush--dead",t({type:"enemy/descend",payload:{position:-10,id:e.id}})):(a.length>0&&a.slice(a.length-20,a.length).map((function(c){!1===c.dead&&Math.abs(c.x-n)<=5&&Math.abs(c.y-i)<=5?(t({type:"killCount/increase",payload:null}),t({type:"projectile/setDead",payload:{dead:!0,id:c.id}}),t({type:"enemy/setDead",payload:{dead:!0,id:e.id}})):j.current.className="gwbush"})),i<1e3&&setTimeout((function(){t({type:"enemy/descend",payload:{position:(parseInt(i)+3).toString(),id:e.id}})}),1e3))})),Object(s.jsx)("div",{className:"gwbush",style:{top:i+"vh",left:n+"vh"},ref:j})}),p=(n(8),function(){var e=Object(r.c)((function(e){return e.lifeCount}));return e>0?Object(s.jsxs)("div",{className:"life-counter",children:[Object(s.jsx)("i",{class:"fas fa-heart life-counter__icon"}),Object(s.jsx)("div",{className:"life-counter__value",children:e})]}):Object(s.jsx)("div",{className:"life-counter",children:"Game Over Man!"})}),b=function(){var e=Object(r.c)((function(e){return e.killCount}));return e<10?Object(s.jsxs)("div",{className:"life-counter",children:[Object(s.jsx)("i",{class:"fas fa-skull"}),Object(s.jsx)("div",{className:"life-counter__value",children:e})]}):Object(s.jsx)("div",{className:"life-counter",children:"They are all dead!"})};var f=function(){var e=Object(r.c)((function(e){return e.enemies})),t=Object(r.c)((function(e){return e.projectiles})),n=(Object(r.c)((function(e){return e.enemy})),e.map((function(e){return Object(s.jsx)(j,{id:e.id})}))),c=t.map((function(e){return Object(s.jsx)(d,{id:e.id})}));return Object(s.jsxs)("div",{className:"grid",children:[Object(s.jsx)(u,{}),n,c,Object(s.jsxs)("div",{className:"counters",children:[Object(s.jsx)(p,{}),Object(s.jsx)(b,{})]})]})},y=n(11),O=n(3),x=(n(29),n(4)),v={boratPosition:{x:"50",y:"90"},GWBushPosition:{x:"50",y:"50"},enemies:[{id:0,x:"5",y:"10",dead:!1},{id:1,x:"25",y:"10",dead:!1},{id:2,x:"45",y:"10",dead:!1},{id:3,x:"65",y:"10",dead:!1},{id:4,x:"85",y:"10",dead:!1},{id:5,x:"5",y:"20",dead:!1},{id:6,x:"25",y:"20",dead:!1},{id:7,x:"45",y:"20",dead:!1},{id:8,x:"65",y:"20",dead:!1},{id:9,x:"85",y:"20",dead:!1}],projectiles:[],lifeCount:10,killCount:0};var h=Object(y.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"borat/putXPosition":return Object(O.a)(Object(O.a)({},e),{},{boratPosition:{x:t.payload,y:e.boratPosition.y}});case"borat/putYPosition":return Object(O.a)(Object(O.a)({},e),{},{boratPosition:{x:e.boratPosition.x,y:t.payload}});case"lifeCount/decrease":return Object(O.a)(Object(O.a)({},e),{},{lifeCount:e.lifeCount-1});case"killCount/increase":return Object(O.a)(Object(O.a)({},e),{},{killCount:e.killCount+1});case"enemy/descend":return Object(x.a)(e,(function(e){e.enemies[t.payload.id].y=t.payload.position}));case"projectile/elevate":return Object(x.a)(e,(function(e){e.projectiles[t.payload.id].y=t.payload.position}));case"projectile/spawn":return Object(x.a)(e,(function(e){console.log(e.projectiles.length),e.projectiles.push({id:e.projectiles.length,x:t.payload.toString(),y:"90",dead:!1})}));case"enemy/setDead":return Object(x.a)(e,(function(e){e.enemies[t.payload.id].dead=t.payload.dead}));case"projectile/setDead":return Object(x.a)(e,(function(e){e.projectiles[t.payload.id].dead=t.payload.dead}));case"projectile/remove":return Object(x.a)(e,(function(e){e.projectiles[t.payload].x=110}));default:return e}}));console.log("Initial state: ",h.getState());var m=h;o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(r.a,{store:m,children:Object(s.jsx)(f,{})})}),document.getElementById("root"))},8:function(e,t,n){}},[[31,1,2]]]);
//# sourceMappingURL=main.23c6eb60.chunk.js.map