(this["webpackJsonpboard-experiment"]=this["webpackJsonpboard-experiment"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(5),o=n.n(c),r=(n(15),n(16),n(17),n(18),n(2)),s=(n(25),n(1)),d=function(e){var t=Object(r.b)(),n=Object(r.c)((function(t){return t.projectiles.find((function(t){return t.id==e.id}))})),a=Object(i.useRef)();return Object(i.useEffect)((function(){!0===n.dead?(a.current.className="projectile projectile--dead",t({type:"projectile/remove",payload:n.id})):(a.current.className="projectile",n.y>=-10?setTimeout((function(){t({type:"projectile/elevate",payload:{position:(parseInt(n.y)-1).toString(),id:e.id}})}),50):t({type:"projectile/setDead",payload:{dead:!0,id:n.id}}))})),Object(s.jsx)("div",{className:"projectile",style:{top:n.y+"vh",left:n.x+"vh"},ref:a})},l=function(e){var t=Object(r.b)(),n=Object(i.useRef)();Object(i.useEffect)((function(){n.current.focus()}));var a=Object(r.c)((function(e){return e.boratPosition}));return Object(s.jsx)("div",{tabIndex:"0",className:"fancy-square",style:{top:a.y+"vh",left:a.x+"vh"},onKeyDown:function(e){var n;e.preventDefault(),"ArrowDown"===(n=e.key)?a.y<=89&&t({type:"borat/putYPosition",payload:parseInt(a.y)+1}):"ArrowUp"===n?a.y>=1&&t({type:"borat/putYPosition",payload:parseInt(a.y)-1}):"ArrowLeft"===n?a.x>=1&&t({type:"borat/putXPosition",payload:parseInt(a.x)-1}):"ArrowRight"===n?a.x<=89&&t({type:"borat/putXPosition",payload:parseInt(a.x)+1}):" "===n&&t({type:"projectile/spawn",payload:parseInt(a.x)})},ref:n})},u=(n(27),function(e){var t=Object(r.b)(),n=Object(r.c)((function(t){return t.enemies[e.id]})),a=Object(r.c)((function(e){return e.projectiles})),c=Object(r.c)((function(t){return t.enemies[e.id].dead})),o=Object(i.useRef)();return Object(i.useEffect)((function(){!0===c?(o.current.className="gwbush gwbush--dead",t({type:"enemy/descend",payload:{position:-10,id:e.id}})):(a.length>0&&a.slice(-10).map((function(i){!1===i.dead&&Math.abs(i.x-n.x)<=5&&Math.abs(i.y-n.y)<=5?(t({type:"killCount/increase",payload:null}),t({type:"projectile/setDead",payload:{dead:!0,id:i.id}}),t({type:"enemy/setDead",payload:{dead:!0,id:e.id}})):o.current.className="gwbush"})),n.y<110&&setTimeout((function(){t({type:"enemy/descend",payload:{position:(parseInt(n.y)+1).toString(),id:e.id}})}),300))})),Object(s.jsx)("div",{className:"gwbush",style:{top:n.y+"vh",left:n.x+"vh"},ref:o})}),p=(n(8),function(){var e=Object(r.c)((function(e){return e.lifeCount}));return e>0?Object(s.jsxs)("div",{className:"life-counter",children:[Object(s.jsx)("i",{class:"fas fa-heart life-counter__icon"}),Object(s.jsx)("div",{className:"life-counter__value",children:e})]}):Object(s.jsx)("div",{className:"life-counter",children:"Game Over Man!"})}),j=function(){var e=Object(r.c)((function(e){return e.killCount}));return e<10?Object(s.jsxs)("div",{className:"life-counter",children:[Object(s.jsx)("i",{class:"fas fa-skull life-counter__icon"}),Object(s.jsx)("div",{className:"life-counter__value",children:e})]}):Object(s.jsx)("div",{className:"life-counter",children:"They are all dead!"})};var y=function(){var e=Object(r.c)((function(e){return e.enemies})),t=Object(r.c)((function(e){return e.projectiles})),n=e.map((function(e){return Object(s.jsx)(u,{id:e.id})})),i=t.slice(-10).map((function(e){return Object(s.jsx)(d,{id:e.id})}));return Object(s.jsxs)("div",{className:"grid",children:[Object(s.jsx)(l,{}),n,i,Object(s.jsxs)("div",{className:"counters",children:[Object(s.jsx)(p,{}),Object(s.jsx)(j,{})]})]})},b=n(10),f=n(3),O=(n(28),n(4)),x={boratPosition:{x:"50",y:"90"},GWBushPosition:{x:"50",y:"50"},enemies:[{id:0,x:"5",y:"10",dead:!1},{id:1,x:"25",y:"10",dead:!1},{id:2,x:"45",y:"10",dead:!1},{id:3,x:"65",y:"10",dead:!1},{id:4,x:"85",y:"10",dead:!1},{id:5,x:"5",y:"20",dead:!1},{id:6,x:"25",y:"20",dead:!1},{id:7,x:"45",y:"20",dead:!1},{id:8,x:"65",y:"20",dead:!1},{id:9,x:"85",y:"20",dead:!1}],projectiles:[],lifeCount:10,killCount:0};var m=Object(b.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"borat/putXPosition":return Object(f.a)(Object(f.a)({},e),{},{boratPosition:{x:t.payload,y:e.boratPosition.y}});case"borat/putYPosition":return Object(f.a)(Object(f.a)({},e),{},{boratPosition:{x:e.boratPosition.x,y:t.payload}});case"lifeCount/decrease":return Object(f.a)(Object(f.a)({},e),{},{lifeCount:e.lifeCount-1});case"killCount/increase":return Object(f.a)(Object(f.a)({},e),{},{killCount:e.killCount+1});case"enemy/descend":return Object(O.a)(e,(function(e){e.enemies[t.payload.id].y=t.payload.position}));case"projectile/elevate":return Object(O.a)(e,(function(e){e.projectiles[t.payload.id].y=t.payload.position}));case"projectile/spawn":return Object(O.a)(e,(function(e){console.log(e.projectiles.length),e.projectiles.push({id:e.projectiles.length,x:t.payload.toString(),y:"90",dead:!1})}));case"enemy/setDead":return Object(O.a)(e,(function(e){e.enemies[t.payload.id].dead=t.payload.dead,e.enemies[t.payload.id].x="0",e.enemies[t.payload.id].y="0"}));case"projectile/setDead":return Object(O.a)(e,(function(e){e.projectiles[t.payload.id].dead=t.payload.dead}));case"projectile/remove":return Object(O.a)(e,(function(e){}));default:return e}}));console.log("Initial state: ",m.getState());var v=m;o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(r.a,{store:v,children:Object(s.jsx)(y,{})})}),document.getElementById("root"))},8:function(e,t,n){}},[[30,1,2]]]);
//# sourceMappingURL=main.42fa91f4.chunk.js.map