(this["webpackJsonpboard-experiment"]=this["webpackJsonpboard-experiment"]||[]).push([[0],[,,,,,,,,function(e,t,a){},,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(5),r=a.n(i),s=(a(17),a(18),a(19),a(2)),d=(a(10),a.p+"static/media/borat.b6c7fdb6.png"),o=a.p+"static/media/gwbush.b1a35170.png",l=a.p+"static/media/vs.93f0f250.png",y=a(0),u=function(e){var t=Object(s.b)();return Object(y.jsxs)("div",{className:"welcome-screen",children:[Object(y.jsx)("img",{className:"welcome-screen__logo",src:d}),Object(y.jsx)("img",{className:"welcome-screen__logo",src:l}),Object(y.jsx)("img",{className:"welcome-screen__logo",src:o}),Object(y.jsx)("span",{className:"welcome-screen__text",children:"Earth is under attack! A swarm of space Georges W. Bushes is trying to take over our planet! You are Borat and you were given a spaceship equiped with space rockets, made in Kazakhstan of course, the greatest nation in the world"}),Object(y.jsxs)("span",{className:"welcome-screen__text",children:["To move, use keyboard arrows ",Object(y.jsx)("button",{className:"welcome-screen__button-demo",children:"<"})," and ",Object(y.jsx)("button",{className:"welcome-screen__button-demo",children:">"})]}),Object(y.jsxs)("span",{className:"welcome-screen__text",children:["To shoot, use the ",Object(y.jsx)("button",{className:"welcome-screen__button-demo",children:"SPACE"})," key!"]}),Object(y.jsx)("span",{className:"welcome-screen__text",children:"If you can save us all, it's nice. I liiiiiike!"}),Object(y.jsx)("button",{name:"button",className:"welcome-screen__button-start",onClick:function(e){t({type:"gameStarted/setValue",payload:!0})},children:"SAVE THE EARTH!"})]})},p=a(6),m=(a(27),a(28),function(e){var t=Object(s.b)(),a=Object(s.c)((function(t){return t.projectiles.find((function(t){return t.id==e.id}))})),c=Object(n.useRef)();return Object(n.useEffect)((function(){!0!==a.dead?(c.current.className="projectile--"+a.type,a.y<=100&&a.y>=0?"player"===a.type?setTimeout((function(){t({type:"projectile/elevate",payload:{positionY:(parseInt(a.y)-10).toString(),id:e.id}})}),50):"enemy"===a.type&&setTimeout((function(){t({type:"projectile/elevate",payload:{positionY:(parseInt(a.y)+10).toString(),id:e.id}})}),300):t({type:"projectile/setDead",payload:{dead:!0,id:a.id}})):!0===a.dead&&null===a.timeOfDeath&&(c.current.className="projectile--"+a.type+" projectile--"+a.type+"--dead",t({type:"projectile/setTimeOfDeath",payload:{id:e.id,timeOfDeath:Date.now()}}))})),Object(y.jsx)("div",{className:"projectile--"+a.type,style:{top:a.y+"vh",left:a.x+"vh"},ref:c})}),j=function(e){var t=Object(s.b)(),a=Object(n.useRef)();Object(n.useEffect)((function(){a.current.focus()}));var c=Object(s.c)((function(e){return e.boratPosition})),i=Object(s.c)((function(e){return e.projectiles})),r=Object(n.useState)(Date.now()),d=Object(p.a)(r,2),o=d[0],l=d[1];return i.length>0&&i.map((function(e){!1===e.dead&&"enemy"===e.type&&Math.abs(e.x-c.x)<=5&&Math.abs(e.y-c.y)<=5&&(t({type:"projectile/setDead",payload:{dead:!0,id:e.id}}),t({type:"lifeCount/decrease",payload:!0}))})),Object(y.jsx)("div",{tabIndex:"0",className:"fancy-square",style:{top:c.y+"vh",left:c.x+"vh"},onKeyDown:function(e){var a;e.preventDefault(),"ArrowLeft"===(a=e.key)?c.x>=2&&t({type:"borat/putXPosition",payload:parseInt(c.x)-5}):"ArrowRight"===a&&c.x<=92&&t({type:"borat/putXPosition",payload:parseInt(c.x)+5})," "===a&&Date.now()-o>200&&(t({type:"projectile/spawn",payload:{positionX:parseInt(c.x),positionY:parseInt(c.y),type:"player"}}),l(Date.now()))},ref:a})},b=(a(29),function(e){var t=Object(s.b)(),a=Object(s.c)((function(e){return e.projectiles})),c=Object(s.c)((function(e){return e.waveCount})),i=Object(s.c)((function(t){return t.enemies[c][e.id]})),r=Object(s.c)((function(t){return t.enemies[c][e.id].dead})),d=Object(s.c)((function(t){return t.enemies[c][e.id].enemyType.health})),o=Object(n.useState)(Date.now()),l=Object(p.a)(o,2),u=l[0],m=l[1],j=Object(n.useRef)();return Object(n.useEffect)((function(){0===d&&!1===r&&(t({type:"killCount/add",payload:1}),t({type:"enemy/setDead",payload:{waveNumber:c,dead:!0,id:e.id}})),!0===r?j.current.className="enemy enemy--dead":(!0===i.enemyType.attacksFromADistance&&Date.now()-u>4e3&&(t({type:"projectile/spawn",payload:{positionX:parseInt(i.x),positionY:parseInt(i.y),type:"enemy"}}),m(Date.now())),a.length>0&&a.slice(-10).map((function(a){!1===a.dead&&"player"===a.type&&Math.abs(a.x-i.x)<=5&&Math.abs(a.y-i.y)<=5?(t({type:"projectile/setDead",payload:{dead:!0,id:a.id}}),t({type:"enemy/decreaseHealth",payload:{waveNumber:c,amount:1,id:e.id}})):j.current.className="enemy enemy--"+i.enemyType.className})),i.y<100||i.y<=0?setTimeout((function(){return t({type:"enemy/descend",payload:{waveNumber:c,position:(parseInt(i.y)+1*i.enemyType.speed).toString(),id:e.id}})}),100):(t({type:"lifeCount/decrease",payload:!0}),t({type:"killCount/add",payload:1}),t({type:"enemy/setDead",payload:{waveNumber:c,dead:!0,id:e.id}})))})),Object(y.jsx)("div",{className:"enemy enemy--"+i.enemyType.className,style:{top:i.y+"vh",left:i.x+"vh"},ref:j})}),f=function(){var e=Object(s.c)((function(e){return e.waveCount})),t=Object(s.c)((function(e){return e.enemies})),a=Object(s.c)((function(e){return e.projectiles})),n=t[e].map((function(e){return Object(y.jsx)(b,{id:e.id})}));console.log(a);var c=[];return a.length>0&&(c=a.map((function(e){if(Date.now()-e.timeOfDeath<1e3||null===e.timeOfDeath)return Object(y.jsx)(m,{id:e.id})}))),Object(y.jsxs)("div",{className:"grid",children:[Object(y.jsx)(j,{}),n,c]})},x=(a(8),function(){var e=Object(s.c)((function(e){return e.lifeCount}));return e>0?Object(y.jsxs)("div",{className:"life-counter",children:[Object(y.jsx)("i",{class:"fas fa-heart life-counter__icon"}),Object(y.jsx)("div",{className:"life-counter__value",children:e})]}):Object(y.jsx)("div",{className:"life-counter",children:"Game Over Man!"})}),h=function(){var e=Object(s.c)((function(e){return e.killCount}));return e<10?Object(y.jsxs)("div",{className:"life-counter",children:[Object(y.jsx)("i",{class:"fas fa-skull life-counter__icon"}),Object(y.jsx)("div",{className:"life-counter__value",children:e})]}):Object(y.jsx)("div",{className:"life-counter",children:"They are all dead!"})},O=function(){var e=Object(s.c)((function(e){return e.waveCount}));return e<10?Object(y.jsxs)("div",{className:"life-counter",children:[Object(y.jsx)("i",{class:"fas fa-skull life-counter__icon"}),Object(y.jsx)("div",{className:"life-counter__value",children:e})]}):Object(y.jsx)("div",{className:"life-counter",children:"They are all dead!"})},v=a.p+"static/media/borat-nice.2dcc8014.png",g=a.p+"static/media/youlose.65e4e62e.png",T=function(e){return Object(s.c)((function(e){return e.lifeCount}))>0?Object(y.jsxs)("div",{className:"welcome-screen",children:[Object(y.jsx)("img",{className:"welcome-screen__logo welcome-screen__logo--big",src:v}),Object(y.jsx)("span",{className:"welcome-screen__text",children:"WOW Dude. You saved the earth. Now humans can kill each other in peace and harmony"})]}):Object(y.jsxs)("div",{className:"welcome-screen",children:[Object(y.jsx)("img",{className:"welcome-screen__logo welcome-screen__logo--big",src:g}),Object(y.jsx)("span",{className:"welcome-screen__text",children:"WOW Dude. You suck. Everyone's dead now. Children and everything. Also, it's your fault"})]})};var w=function(){var e=Object(s.c)((function(e){return e.gameStarted})),t=Object(s.c)((function(e){return e.killCount})),a=Object(s.c)((function(e){return e.lifeCount})),n=Object(s.c)((function(e){return e.waveCount})),c=Object(s.c)((function(e){return e.enemies[n].length})),i=Object(s.c)((function(e){return e.enemies.length})),r=Object(s.b)();return!0===e?(t===c&&n!=i-1&&(r({type:"wave/add",payload:1}),r({type:"killCount/add",payload:-10})),n!=i-1&&a>0?Object(y.jsxs)("div",{className:"screen",children:[Object(y.jsxs)("div",{className:"counters",children:[Object(y.jsx)(x,{}),Object(y.jsx)(h,{}),Object(y.jsx)(O,{})]}),Object(y.jsx)(f,{})]}):Object(y.jsx)("div",{className:"screen",children:Object(y.jsx)(T,{})})):Object(y.jsx)("div",{className:"screen",children:Object(y.jsx)(u,{})})},N=a(12),_=a(4),D=a(3),k=function(e){switch(e){case"regular":return{size:5,speed:1,health:1,className:"regular",attacksFromADistance:!1};case"fast":return{size:5,speed:2,health:1,className:"fast",attacksFromADistance:!1};case"heavy":return{size:5,speed:1,health:3,className:"heavy",attacksFromADistance:!1};case"shooter":return{size:5,speed:1,health:1,className:"shooter",attacksFromADistance:!0}}},C={boratPosition:{x:"50",y:"90"},GWBushPosition:{x:"50",y:"50"},enemies:[[{id:0,x:"5",y:"10",dead:!1,enemyType:k("regular")},{id:1,x:"25",y:"10",dead:!1,enemyType:k("regular")},{id:2,x:"45",y:"10",dead:!1,enemyType:k("regular")},{id:3,x:"65",y:"10",dead:!1,enemyType:k("shooter")},{id:4,x:"85",y:"10",dead:!1,enemyType:k("shooter")},{id:5,x:"5",y:"20",dead:!1,enemyType:k("heavy")},{id:6,x:"25",y:"20",dead:!1,enemyType:k("regular")},{id:7,x:"45",y:"20",dead:!1,enemyType:k("regular")},{id:8,x:"65",y:"20",dead:!1,enemyType:k("heavy")},{id:9,x:"85",y:"20",dead:!1,enemyType:k("regular")}],[{id:0,x:"5",y:"10",dead:!1,enemyType:k("regular")},{id:1,x:"25",y:"10",dead:!1,enemyType:k("regular")},{id:2,x:"45",y:"10",dead:!1,enemyType:k("heavy")},{id:3,x:"65",y:"10",dead:!1,enemyType:k("shooter")},{id:4,x:"85",y:"10",dead:!1,enemyType:k("regular")},{id:5,x:"5",y:"20",dead:!1,enemyType:k("fast")},{id:6,x:"25",y:"20",dead:!1,enemyType:k("shooter")},{id:7,x:"45",y:"20",dead:!1,enemyType:k("fast")},{id:8,x:"65",y:"20",dead:!1,enemyType:k("regular")},{id:9,x:"85",y:"20",dead:!1,enemyType:k("regular")}],[{id:0,x:"5",y:"10",dead:!1,enemyType:k("heavy")},{id:1,x:"25",y:"10",dead:!1,enemyType:k("regular")},{id:2,x:"45",y:"10",dead:!1,enemyType:k("regular")},{id:3,x:"65",y:"10",dead:!1,enemyType:k("regular")},{id:4,x:"85",y:"10",dead:!1,enemyType:k("shooter")},{id:5,x:"5",y:"20",dead:!1,enemyType:k("fast")},{id:6,x:"25",y:"20",dead:!1,enemyType:k("regular")},{id:7,x:"45",y:"20",dead:!1,enemyType:k("regular")},{id:8,x:"65",y:"20",dead:!1,enemyType:k("shooter")},{id:9,x:"85",y:"20",dead:!1,enemyType:k("regular")}],[{id:0,x:"5",y:"10",dead:!1,enemyType:k("regular")},{id:1,x:"25",y:"10",dead:!1,enemyType:k("shooter")},{id:2,x:"45",y:"10",dead:!1,enemyType:k("regular")},{id:3,x:"65",y:"10",dead:!1,enemyType:k("regular")},{id:4,x:"85",y:"10",dead:!1,enemyType:k("heavy")},{id:5,x:"5",y:"20",dead:!1,enemyType:k("regular")},{id:6,x:"25",y:"20",dead:!1,enemyType:k("regular")},{id:7,x:"45",y:"20",dead:!1,enemyType:k("regular")},{id:8,x:"65",y:"20",dead:!1,enemyType:k("regular")},{id:9,x:"85",y:"20",dead:!1,enemyType:k("fast")}],[{id:0,x:"5",y:"10",dead:!1,enemyType:k("fast")},{id:1,x:"25",y:"10",dead:!1,enemyType:k("fast")},{id:2,x:"45",y:"10",dead:!1,enemyType:k("shooter")},{id:3,x:"65",y:"10",dead:!1,enemyType:k("shooter")},{id:4,x:"85",y:"10",dead:!1,enemyType:k("shooter")},{id:5,x:"5",y:"20",dead:!1,enemyType:k("shooter")},{id:6,x:"25",y:"20",dead:!1,enemyType:k("regular")},{id:7,x:"45",y:"20",dead:!1,enemyType:k("regular")},{id:8,x:"65",y:"20",dead:!1,enemyType:k("regular")},{id:9,x:"85",y:"20",dead:!1,enemyType:k("heavy")}]],projectiles:[],lifeCount:3,killCount:0,waveCount:0,gameStarted:!1};var S=Object(N.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"borat/putXPosition":return Object(_.a)(Object(_.a)({},e),{},{boratPosition:{x:t.payload,y:e.boratPosition.y}});case"borat/putYPosition":return Object(_.a)(Object(_.a)({},e),{},{boratPosition:{x:e.boratPosition.x,y:t.payload}});case"lifeCount/decrease":return Object(_.a)(Object(_.a)({},e),{},{lifeCount:e.lifeCount-1});case"killCount/add":return Object(_.a)(Object(_.a)({},e),{},{killCount:e.killCount+t.payload});case"enemy/descend":return Object(D.a)(e,(function(e){e.enemies[t.payload.waveNumber][t.payload.id].y=t.payload.position}));case"projectile/elevate":return Object(D.a)(e,(function(e){e.projectiles[t.payload.id].y=t.payload.positionY}));case"projectile/spawn":return Object(D.a)(e,(function(e){console.log(e.projectiles.length),e.projectiles.push({id:e.projectiles.length,x:t.payload.positionX.toString(),y:t.payload.positionY.toString(),dead:!1,type:t.payload.type,timeOfDeath:null})}));case"enemy/setDead":return Object(D.a)(e,(function(e){e.enemies[t.payload.waveNumber][t.payload.id].dead=t.payload.dead}));case"enemy/decreaseHealth":return Object(D.a)(e,(function(e){e.enemies[t.payload.waveNumber][t.payload.id].enemyType.health=e.enemies[t.payload.waveNumber][t.payload.id].enemyType.health-t.payload.amount}));case"projectile/setDead":return Object(D.a)(e,(function(e){e.projectiles[t.payload.id].dead=t.payload.dead}));case"projectile/setTimeOfDeath":return Object(D.a)(e,(function(e){e.projectiles[t.payload.id].timeOfDeath=t.payload.timeOfDeath}));case"gameStarted/setValue":return Object(D.a)(e,(function(e){e.gameStarted=t.payload}));case"wave/add":return Object(D.a)(e,(function(e){e.waveCount=e.waveCount+t.payload}));default:return e}}));console.log("Initial state: ",S.getState());var I=S;r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(s.a,{store:I,children:Object(y.jsx)(w,{})})}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.7a87078d.chunk.js.map